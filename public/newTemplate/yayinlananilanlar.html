<div ng-controller = "yayinlananilanlar" id="paylasilanilanlar">
    <div class="container bg-gray" id="accordion-style-1">
        <div class="container">
            <section>
                <div class="row">
                    <div class="col-12 ">
                        <h4 class="text-green mb-4 text-center" style="display:block">Yayinlanan İlanlar</h4>
                           
                       </div>
                    <div class="col-md-12 mx-auto col-sm-12">
                  
                        <br>
                        <div class="card">
                            <div class="card-header" id="headingTwo">
                                <h5 class="mb-0">
                            <button class="btn btn-link btn-block text-left" style="width: 80%;" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                <i class="fa fa-angle-right mr-3"></i> İlanlar 
                            </button>
                          
                          </h5>
                            </div>

                            <div id="collapseOne" class="collapse show fade" aria-labelledby="headingOne" data-parent="#accordionExample">
                                <div class="card-body" ng-repeat="i in ilanlar track by $index">
                                 <label style="font-weight: bold;">{{i.ilanBilgileri.il.il + ' - ' + i.ilanBilgileri.ilce.ilce + ' - ' + i.ilanBilgileri.isletmeAdi}}</label>

                                <button class="btn morButton" style="float: right;" ng-click="guncelle(i.id,$event)">Güncelle</button>
                                <ul class="nav nav-tabs">
                                    <li class="nav-item">
                                      <a class="nav-link active" data-toggle="tab" href="{{'#menu'+$index}}">Adres Bilgileri</a>
                                    </li>
                                    <li class="nav-item">
                                      <a class="nav-link" data-toggle="tab" href="{{'#menu1'+$index}}">İşletme Bilgileri</a>
                                    </li>
                                    <li class="nav-item">
                                      <a class="nav-link" data-toggle="tab" href="{{'#menu2'+$index}}">İşletme Hizmetleri</a>
                                    </li>
                                    <li class="nav-item">
                                      <a class="nav-link" data-toggle="tab" href="{{'#menu3'+$index}}">İşletme Çalışma Saatleri</a>
                                    </li>
                                    <li class="nav-item">
                                      <a class="nav-link" data-toggle="tab" href="{{'#menu4'+$index}}">Fiyatlandırma</a>
                                    </li>
                                </ul>
                                  
                                  <!-- Tab panes -->
                                  <div class="tab-content" >
                                    <div class="tab-pane container active" id="{{'menu' +$index}}">
                                        <sehir page='profil' class="ilveilce" model="i.ilanBilgileri.il.il" model2="i.ilanBilgileri.ilce.ilce"></sehir>
                                            <div class="form-group">
                                                <label>İşletmenin Tam Adresi <label class="error" ng-if="tamAdresValid">En Az 20 Karakter Giriniz</label></label>
                                                   <textarea minlength="20" class="form-control" ng-model="tamAdres" name="" id="tamAdres" cols="5" rows="5"></textarea>
                                            </div>
                                    </div>
                                    <div class="tab-pane container fade" id="{{'menu1' +$index}}">
                                      <div class="form-group">
                                        <label>Erkek / Bayan Seçimi <label class="error" ng-if="genderValid">En Az Bir Tane Seçiniz</label> </label>
                                            <div
                                            isteven-multi-select
                                            input-model="genderInput"
                                            output-model="genderOutput"
                                            button-label="name"
                                            item-label="name"
                                            tick-property="ticked"
                                            selection-mode="single"
                                        >
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>İşletme Adı <label class="error" ng-if="isletmeAdiValid"> Alanı Doldurunuz</label></label>

                                         <input type="text" id="isletmeAdi" ng-model="isletmeAdi" class="form-control">

                                    </div>

                                        <div class="form-group" ng-init="diger=false">
                                            <label>İşletmedeki Toplam Müşteri Kapasitesi
                                                <label class="error" ng-if="kapasiteValid"> Alanı Doldurunuz</label>
                                            </label>
                                            <select class="form-control" id="kapasite" ng-change="kapasiteDegisti()" ng-model="kapasite">
                                                <option value="" disabled>Seçiniz</option>
                                                <option value="1">1</option>
                                                <option value="2">2</option>
                                                <option value="3">3</option>
                                                <option value="4">4</option>
                                                <option value="5">5</option>
                                                <option value="6">6</option>
                                                <option value="0">Diğer</option>
                                              </select>


                                        </div>
                                        <div class="form-group">
                                            <label ng-if="digerValid" class="error"> Alanı Doldurunuz</label>
                                              <input type="number" id="kapasiteDiger" style="display: inline-block;width: 90%;" min="1" max="100" ng-model="kapasiteDiger" ng-show="diger" class="form-control">
                                              <button type="button" ng-if="diger" ng-click="diger=false;kapasite=''" style="display: inline-block;" class="btn btn-xs btn-secondary">Gizle</button>

                                        </div>
                                        <div class="form-group">
                                            <label>İşletme Telefonu  <label class="error" ng-if="telValid"> Alanı Doldurunuz</label></label>
                                            <input phone-input type="text" id="telefon" ng-model="telefon" class="form-control">


                                        </div>
                                    </div>
                                    <div class="tab-pane container fade" id="{{'menu2' +$index}}">
                                      <div class="form-group">
                                        <label>İşletme Hizmetleriniz Neler ?
                                            <label class="error" ng-if="hizmetValid"> Alanı Doldurunuz</label>

                                        </label>
                                            <div
                                            isteven-multi-select
                                            input-model="hizmetInput"
                                            output-model="hizmetOutput"
                                            button-label="name"
                                            item-label="name"
                                            tick-property="ticked"
                                            on-open="fOpen('hizmet')"
                                        >
                                        </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane container fade" style="width: 100%;overflow-x: auto;" id="{{'menu3' +$index}}">
                                      <a ng-click="allCheck()">Hepsini İşaretle / Kaldır</a>
                                      <label class="error" ng-if="totalValid"> Alanı Doldurunuz</label>
          
                                      <div class="form-group">
                                              <table class="table table-bordered">
                                                  <thead>
                                                    <tr>
                                                      <th></th>
                                                      <th>
                                                         Pazartesi
          
                                                      </th>
                                                      <th>Salı</th>
                                                      <th>Çarşamba</th>
                                                      <th>Perşembe</th>
                                                      <th>Cuma</th>
                                                      <th>Cumartesi</th>
                                                      <th>Pazar</th>
                                                  </tr>
                                                  </thead>
                                                  <tbody>
                                                    <tr ng-repeat="i in saatInput track by $index">
                                                        <td>{{i.name}}</td>
                                                        <td class="pzt" ng-init="id='pzt'+ uniqID.new();">
                                                          <label class="checkbox-container">
                                                              <input type="checkbox"  ng-click="sec('Pazartesi',i.name,$event,id)"  ng-model="ischecked" checked="checked">
                                                              <span class="checkmark"></span>
                                                          </label>
          
                                                       </td>
                                                        <td class="sal" ng-init="id='sal'+ uniqID.new();">
                                                          <label class="checkbox-container">
                                                              <input type="checkbox"  ng-click="sec('Salı',i.name,$event,id)"  ng-model="ischecked2" checked="checked">
                                                              <span class="checkmark"></span>
                                                          </label>
                                                        </td>
                                                        <td class="car" ng-init="id='car'+ uniqID.new();">
                                                          <label class="checkbox-container">
                                                              <input type="checkbox"  ng-click="sec('Çarşamba',i.name,$event,id)"  ng-model="ischecked3" checked="checked">
                                                              <span class="checkmark"></span>
                                                          </label>
                                                        </td>
                                                        <td class="per" ng-init="id='per'+ uniqID.new();">
                                                          <label class="checkbox-container">
                                                              <input type="checkbox"  ng-click="sec('Perşembe',i.name,$event,id)"  ng-model="ischecked4" checked="checked">
                                                              <span class="checkmark"></span>
                                                          </label>
                                                        </td>
                                                        <td class="cum" ng-init="id='cum'+ uniqID.new();">
                                                          <label class="checkbox-container">
                                                              <input type="checkbox"  ng-click="sec('Cuma',i.name,$event,id)"  ng-model="ischecked5" checked="checked">
                                                              <span class="checkmark"></span>
                                                          </label>
                                                        </td>
                                                        <td class="cmt" ng-init="id='cmt'+ uniqID.new();">
                                                          <label class="checkbox-container">
                                                              <input type="checkbox"  ng-click="sec('Cumartesi',i.name,$event,id)"  ng-model="ischecked6" checked="checked">
                                                              <span class="checkmark"></span>
                                                          </label>
                                                        </td>
                                                        <td class="pzr" ng-init="id='pzr'+ uniqID.new();">
                                                          <label class="checkbox-container">
                                                              <input type="checkbox"  ng-click="sec('Pazar',i.name,$event,id)"  ng-model="ischecked7" checked="checked">
                                                              <span class="checkmark"></span>
                                                          </label>
                                                        </td>
                                                    </tr>
          
                                                  </tbody>
                                                </table>
          
                                          </div>
                                    </div>
                                    <div class="tab-pane container fade" id="{{'menu4' +$index}}">
                                      <div class="form-group">
                                        <label>Hizmet Fiyatlandırma
                                            <label class="error" ng-if="fiyatlandirmaValid"> Alanı Doldurunuz</label>
    
                                        </label>
                                        <table class="table table-bordered">
                                            <thead>
                                              <tr>
                                                <th>Seçilen Hizmetler</th>
                                                <th>
                                                   Fiyat (TL)
                                                </th>
    
                                            </tr>
                                            </thead>
                                            <tbody>
                                             <tr class="dataTr" ng-repeat="i in  hizmetOutput track by $index">
                                              <td  class="dataTd">{{i.name}}</td>
                                              <td>
                                                  <input type="number" style="height: 30px;" min="1" max="100000" placeholder="Fiyat" id="fiyat" class="form-control input">
                                                </td>
                                             </tr>
                                             <tr>
                                                <td colspan="12" style="background-color: #ddd;">
                                                    Toplam Hizmet Sayısı : {{hizmetOutput.length}}
                                                </td>
                                             </tr>
                                            </tbody>
                                          </table>
                                    </div>
    
                                    </div>
                                  </div>
                                 
                                                         
                                
                             </div>
                            </div>
                    </div>
                    </div>    
                    </div>
                
                </section>
        </div>
    </div>
</div>
